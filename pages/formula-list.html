<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å…¬å¼æ‰‹å†Œ - å¾®ç§¯åˆ†å¹³å°</title>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Font Awesome - ä¿®å¤ï¼šæ·»åŠ å›¾æ ‡åº“ -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- MathJax - ä¿®å¤ï¼šå…ˆé…ç½®ååŠ è½½ -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      },
      startup: {
        ready: function() {
          MathJax.startup.defaultReady();
          // éšè—åŠ è½½æç¤º
          setTimeout(() => {
            const loading = document.getElementById('mathjax-loading');
            if (loading) loading.style.display = 'none';
          }, 1000);
        }
      }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body class="bg-gradient-to-br from-gray-50 to-blue-50">
  
  <!-- MathJax åŠ è½½æç¤º -->
  <div id="mathjax-loading" class="fixed top-4 right-4 bg-yellow-400 text-yellow-900 px-3 py-2 rounded shadow-md text-sm z-50">
    <i class="fas fa-spinner fa-spin"></i> æ­£åœ¨æ¸²æŸ“å…¬å¼...
  </div>

<!-- å¯¼èˆªæ  - å·²æ·»åŠ "åº”ç”¨"é“¾æ¥ -->
<nav class="bg-white shadow-lg sticky top-0 z-50">
  <div class="container mx-auto px-6 py-3">
    <div class="flex justify-between items-center">
      <h1 class="text-2xl font-bold text-blue-600">å¾®ç§¯åˆ†æ¢ç´¢</h1>
      <div class="space-x-4">
        <a href="../index.html" class="hover:text-blue-600 transition">é¦–é¡µ</a>
        <a href="history.html" class="hover:text-blue-600 transition">å‘å±•å²</a>
        <a href="lab.html" class="hover:text-blue-600 transition">å®éªŒå®¤</a>
        <a href="formula-list.html" class="text-blue-600 font-semibold">å…¬å¼æ‰‹å†Œ</a>
        <a href="quiz.html" class="hover:text-blue-600 transition">æµ‹éªŒæŒ‘æˆ˜</a>
        <a href="applications.html" class="hover:text-blue-600 transition">åº”ç”¨</a> <!-- âœ… æ–°å¢ -->
      </div>
    </div>
  </div>
</nav>


  <!-- ä¸»è¦å†…å®¹ -->
  <main class="container mx-auto px-6 py-8">
    
    <!-- é¡µé¢æ ‡é¢˜ -->
    <h2 class="text-4xl font-bold text-center mb-8 text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">
      ğŸ“š äº¤äº’å¼å…¬å¼æ‰‹å†Œ
    </h2>
    
    <!-- æœç´¢æ¡† - ä¿®å¤ï¼šæ·»åŠ å›¾æ ‡å’Œé˜²æŠ– -->
    <div class="mb-8 text-center">
      <div class="relative inline-block w-full max-w-md">
        <input type="text" id="searchInput" placeholder="æœç´¢å…¬å¼ï¼ˆå¦‚ï¼šå¯¼æ•°ã€ç§¯åˆ†ã€æ³°å‹’ï¼‰" 
               class="w-full px-4 py-3 pl-10 border rounded-lg shadow focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
      </div>
      <p class="text-sm text-gray-500 mt-2">æ”¯æŒæŒ‰å…¬å¼åç§°ã€ç±»å‹æˆ–å†…å®¹æœç´¢</p>
    </div>

    <!-- å…¬å¼åˆ†ç±»ç½‘æ ¼ -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="formulaGrid">
      
      <!-- ğŸŸ¦ åŸºæœ¬å¯¼æ•°å…¬å¼ -->
      <div class="bg-white p-6 rounded-xl shadow-lg formula-card hover:shadow-2xl transition transform hover:-translate-y-1" data-tags="å¯¼æ•° åŸºæœ¬ å¹‚å‡½æ•°">
        <h3 class="text-xl font-bold text-blue-600 mb-3 flex items-center">
          <i class="fas fa-graduation-cap mr-2 text-blue-500"></i> åŸºæœ¬å¯¼æ•°å…¬å¼
        </h3>
        <div class="space-y-2 text-sm bg-blue-50 p-4 rounded-lg">
          <p>$$(x^n)' = nx^{n-1}$$</p>
          <p>$$(\sin x)' = \cos x$$</p>
          <p>$$(\cos x)' = -\sin x$$</p>
          <p>$$(e^x)' = e^x$$</p>
          <p>$$(\ln x)' = \frac{1}{x}$$</p>
        </div>
        <button onclick="copyFormula(this, 'åŸºæœ¬å¯¼æ•°å…¬å¼')" 
                class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition w-full font-medium">
          <i class="fas fa-copy mr-2"></i> å¤åˆ¶ LaTeX
        </button>
      </div>

      <!-- ğŸŸ© åŸºæœ¬ç§¯åˆ†å…¬å¼ -->
      <div class="bg-white p-6 rounded-xl shadow-lg formula-card hover:shadow-2xl transition transform hover:-translate-y-1" data-tags="ç§¯åˆ† åŸºæœ¬ åŸå‡½æ•°">
        <h3 class="text-xl font-bold text-green-600 mb-3 flex items-center">
          <i class="fas fa-calculator mr-2 text-green-500"></i> åŸºæœ¬ç§¯åˆ†å…¬å¼
        </h3>
        <div class="space-y-2 text-sm bg-green-50 p-4 rounded-lg">
          <p>$$\int x^n \, dx = \frac{x^{n+1}}{n+1} + C$$</p>
          <p>$$\int \frac{1}{x} \, dx = \ln|x| + C$$</p>
          <p>$$\int e^x \, dx = e^x + C$$</p>
          <p>$$\int \sin x \, dx = -\cos x + C$$</p>
          <p>$$\int \cos x \, dx = \sin x + C$$</p>
        </div>
        <button onclick="copyFormula(this, 'åŸºæœ¬ç§¯åˆ†å…¬å¼')" 
                class="mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition w-full font-medium">
          <i class="fas fa-copy mr-2"></i> å¤åˆ¶ LaTeX
        </button>
      </div>

      <!-- ğŸŸª æ³°å‹’å±•å¼€ï¼ˆå¢å¼ºç‰ˆ + æ»‘åŠ¨æŸ¥çœ‹ï¼‰ -->
      <div class="bg-white p-6 rounded-xl shadow-lg formula-card hover:shadow-2xl transition transform hover:-translate-y-1" data-tags="æ³°å‹’ çº§æ•° å±•å¼€ éº¦å…‹åŠ³æ— ä½™é¡¹">
        <h3 class="text-xl font-bold text-purple-600 mb-3 flex items-center">
          <i class="fas fa-infinity mr-2 text-purple-500"></i> æ³°å‹’ä¸éº¦å…‹åŠ³æ—å±•å¼€
        </h3>
        
        <!-- å¯æ»‘åŠ¨å†…å®¹åŒºåŸŸ -->
        <div class="text-sm bg-purple-50 p-4 rounded-lg mb-2" style="max-height: 280px; overflow-y: auto;">
          <div class="space-y-4">
            <!-- é€šç”¨æ³°å‹’å…¬å¼ -->
            <div class="border-b border-purple-200 pb-3">
              <p class="font-semibold text-purple-800 mb-2">é€šç”¨æ³°å‹’å…¬å¼ï¼ˆå¸¦æ‹‰æ ¼æœ—æ—¥ä½™é¡¹ï¼‰</p>
              <p>$$f(x) = \sum_{k=0}^{n} \frac{f^{(k)}(a)}{k!}(x-a)^k + R_n(x)$$</p>
              <p class="text-xs text-gray-600 mt-1">ä½™é¡¹ï¼š$$R_n(x) = \frac{f^{(n+1)}(\xi)}{(n+1)!}(x-a)^{n+1}$$</p>
            </div>
            <!-- éº¦å…‹åŠ³æ—çº§æ•° -->
            <div class="border-b border-purple-200 pb-3">
              <p class="font-semibold text-purple-800 mb-2">éº¦å…‹åŠ³æ—çº§æ•°ï¼ˆa=0 ç‰¹ä¾‹ï¼‰</p>
              <p>$$f(x) = \sum_{k=0}^{\infty} \frac{f^{(k)}(0)}{k!}x^k$$</p>
            </div>
            <!-- å¸¸è§å‡½æ•°å±•å¼€ -->
            <div>
              <p class="font-semibold text-purple-800 mb-2">å¸¸è§å‡½æ•°å±•å¼€åŠæ”¶æ•›åŸŸ</p>
              <div class="space-y-3 text-xs">
                <div class="border-l-4 border-purple-400 pl-2">
                  <p class="font-medium">æŒ‡æ•°å‡½æ•°ï¼š$$e^x = 1 + x + \frac{x^2}{2!} + \cdots$$</p>
                  <p class="text-gray-500 italic">æ”¶æ•›åŸŸï¼šâ„</p>
                </div>
                <div class="border-l-4 border-purple-400 pl-2">
                  <p class="font-medium">æ­£å¼¦å‡½æ•°ï¼š$$\sin x = x - \frac{x^3}{3!} + \cdots$$</p>
                  <p class="text-gray-500 italic">æ”¶æ•›åŸŸï¼šâ„</p>
                </div>
                <div class="border-l-4 border-purple-400 pl-2">
                  <p class="font-medium">å‡ ä½•çº§æ•°ï¼š$$\frac{1}{1-x} = 1 + x + x^2 + \cdots$$</p>
                  <p class="text-gray-500 italic">æ”¶æ•›åŸŸï¼š|x| < 1</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- ä¿®å¤ï¼šå¢å¼ºæ»šåŠ¨æç¤ºåŠ¨ç”» -->
        <div class="text-xs text-purple-600 text-center animate-bounce">
          <i class="fas fa-chevron-down mr-1"></i> æ»‘åŠ¨æŸ¥çœ‹æ›´å¤šå†…å®¹
        </div>
        
        <button onclick="copyFormula(this, 'æ³°å‹’å±•å¼€å…¬å¼')" 
                class="mt-4 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition w-full font-medium">
          <i class="fas fa-copy mr-2"></i> å¤åˆ¶å…¨éƒ¨ LaTeX
        </button>
      </div>

      <!-- ğŸŸ¥ ä¸‰è§’å‡½æ•°å¯¼æ•° -->
      <div class="bg-white p-6 rounded-xl shadow-lg formula-card hover:shadow-2xl transition transform hover:-translate-y-1" data-tags="å¯¼æ•° ä¸‰è§’å‡½æ•°">
        <h3 class="text-xl font-bold text-red-600 mb-3 flex items-center">
          <i class="fas fa-wave-square mr-2 text-red-500"></i> ä¸‰è§’å‡½æ•°å¯¼æ•°
        </h3>
        <div class="space-y-2 text-sm bg-red-50 p-4 rounded-lg">
          <p>$$(\tan x)' = \sec^2 x$$</p>
          <p>$$(\cot x)' = -\csc^2 x$$</p>
          <p>$$(\sec x)' = \sec x \tan x$$</p>
          <p>$$(\csc x)' = -\csc x \cot x$$</p>
        </div>
        <button onclick="copyFormula(this, 'ä¸‰è§’å‡½æ•°å¯¼æ•°å…¬å¼')" 
                class="mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition w-full font-medium">
          <i class="fas fa-copy mr-2"></i> å¤åˆ¶ LaTeX
        </button>
      </div>

      <!-- ğŸŸ§ æŒ‡æ•°ä¸å¯¹æ•°å‡½æ•° -->
      <div class="bg-white p-6 rounded-xl shadow-lg formula-card hover:shadow-2xl transition transform hover:-translate-y-1" data-tags="æŒ‡æ•° å¯¹æ•° å¯¼æ•° ç§¯åˆ†">
        <h3 class="text-xl font-bold text-orange-600 mb-3 flex items-center">
          <i class="fas fa-superscript mr-2 text-orange-500"></i> æŒ‡æ•°ä¸å¯¹æ•°å‡½æ•°
        </h3>
        <div class="space-y-2 text-sm bg-orange-50 p-4 rounded-lg">
          <p>$$(a^x)' = a^x \ln a$$</p>
          <p>$$(\log_a x)' = \frac{1}{x \ln a}$$</p>
          <p>$$\int a^x \, dx = \frac{a^x}{\ln a} + C$$</p>
          <p>$$\int \ln x \, dx = x\ln x - x + C$$</p>
        </div>
        <button onclick="copyFormula(this, 'æŒ‡æ•°å¯¹æ•°å‡½æ•°å…¬å¼')" 
                class="mt-4 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition w-full font-medium">
          <i class="fas fa-copy mr-2"></i> å¤åˆ¶ LaTeX
        </button>
      </div>

      <!-- ğŸŸ« åä¸‰è§’å‡½æ•° -->
      <div class="bg-white p-6 rounded-xl shadow-lg formula-card hover:shadow-2xl transition transform hover:-translate-y-1" data-tags="åä¸‰è§’ å¯¼æ•°">
        <h3 class="text-xl font-bold text-amber-700 mb-3 flex items-center">
          <i class="fas fa-ruler-combined mr-2 text-amber-600"></i> åä¸‰è§’å‡½æ•°å¯¼æ•°
        </h3>
        <div class="space-y-2 text-sm bg-amber-50 p-4 rounded-lg">
          <p>$$(\arcsin x)' = \frac{1}{\sqrt{1-x^2}}$$</p>
          <p>$$(\arccos x)' = -\frac{1}{\sqrt{1-x^2}}$$</p>
          <p>$$(\arctan x)' = \frac{1}{1+x^2}$$</p>
          <p>$$(\text{arccot } x)' = -\frac{1}{1+x^2}$$</p>
        </div>
        <button onclick="copyFormula(this, 'åä¸‰è§’å‡½æ•°å¯¼æ•°')" 
                class="mt-4 bg-amber-700 text-white px-4 py-2 rounded-lg hover:bg-amber-800 transition w-full font-medium">
          <i class="fas fa-copy mr-2"></i> å¤åˆ¶ LaTeX
        </button>
      </div>

      <!-- ğŸ”µ å¤šå…ƒå‡½æ•°åå¯¼æ•° -->
      <div class="bg-white p-6 rounded-xl shadow-lg formula-card hover:shadow-2xl transition transform hover:-translate-y-1" data-tags="å¤šå…ƒ åå¯¼ é«˜é˜¶">
        <h3 class="text-xl font-bold text-blue-800 mb-3 flex items-center">
          <i class="fas fa-cube mr-2 text-blue-700"></i> å¤šå…ƒå‡½æ•°åå¯¼æ•°
        </h3>
        <div class="space-y-2 text-sm bg-blue-50 p-4 rounded-lg">
          <p>$$\frac{\partial}{\partial x}f(x,y) = \lim_{h\to0}\frac{f(x+h,y)-f(x,y)}{h}$$</p>
          <p>$$\frac{\partial^2 f}{\partial x \partial y} = \frac{\partial}{\partial x}\left(\frac{\partial f}{\partial y}\right)$$</p>
          <p>$$\nabla f = \left(\frac{\partial f}{\partial x}, \frac{\partial f}{\partial y}\right)$$</p>
        </div>
        <button onclick="copyFormula(this, 'åå¯¼æ•°å…¬å¼')" 
                class="mt-4 bg-blue-800 text-white px-4 py-2 rounded-lg hover:bg-blue-900 transition w-full font-medium">
          <i class="fas fa-copy mr-2"></i> å¤åˆ¶ LaTeX
        </button>
      </div>

      <!-- ğŸŸ¢ é‡ç§¯åˆ†ä¸æ›²çº¿ç§¯åˆ† -->
      <div class="bg-white p-6 rounded-xl shadow-lg formula-card hover:shadow-2xl transition transform hover:-translate-y-1" data-tags="é‡ç§¯åˆ† æ›²çº¿ æ›²é¢ç§¯åˆ†">
        <h3 class="text-xl font-bold text-green-800 mb-3 flex items-center">
          <i class="fas fa-layer-group mr-2 text-green-700"></i> ç§¯åˆ†è¿›é˜¶
        </h3>
        <div class="space-y-2 text-sm bg-green-50 p-4 rounded-lg">
          <p>$$\iint_D f(x,y) \, dA = \int_a^b \int_{g_1(x)}^{g_2(x)} f(x,y) \, dy \, dx$$</p>
          <p>$$\oint_C \vec{F} \cdot d\vec{r}$$</p>
          <p>$$\iint_S \vec{F} \cdot d\vec{S}$$</p>
        </div>
        <button onclick="copyFormula(this, 'é‡ç§¯åˆ†ä¸æ›²çº¿ç§¯åˆ†')" 
                class="mt-4 bg-green-800 text-white px-4 py-2 rounded-lg hover:bg-green-900 transition w-full font-medium">
          <i class="fas fa-copy mr-2"></i> å¤åˆ¶ LaTeX
        </button>
      </div>

      <!-- ğŸŸ£ å¾®åˆ†æ–¹ç¨‹ -->
      <div class="bg-white p-6 rounded-xl shadow-lg formula-card hover:shadow-2xl transition transform hover:-translate-y-1" data-tags="å¾®åˆ†æ–¹ç¨‹ å¸¸å¾®åˆ†">
        <h3 class="text-xl font-bold text-purple-800 mb-3 flex items-center">
          <i class="fas fa-wave-square mr-2 text-purple-700"></i> å¾®åˆ†æ–¹ç¨‹åŸºç¡€
        </h3>
        <div class="space-y-2 text-sm bg-purple-50 p-4 rounded-lg">
          <p>ä¸€é˜¶çº¿æ€§ï¼š$$y' + p(x)y = q(x)$$</p>
          <p>è§£ï¼š$$y = e^{-\int p(x)dx}\left(\int q(x)e^{\int p(x)dx}dx + C\right)$$</p>
          <p>äºŒé˜¶é½æ¬¡ï¼š$$y'' + ay' + by = 0$$</p>
        </div>
        <button onclick="copyFormula(this, 'å¾®åˆ†æ–¹ç¨‹è§£æ³•')" 
                class="mt-4 bg-purple-800 text-white px-4 py-2 rounded-lg hover:bg-purple-900 transition w-full font-medium">
          <i class="fas fa-copy mr-2"></i> å¤åˆ¶ LaTeX
        </button>
      </div>

    </div>
  </main>

  <script>
    // é˜²æŠ–å‡½æ•° - ä¿®å¤ï¼šä¼˜åŒ–æœç´¢æ€§èƒ½
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    // æœç´¢åŠŸèƒ½ - ä¿®å¤ï¼šæ·»åŠ é˜²æŠ–å’Œç©ºçŠ¶æ€æç¤º
    const searchInput = document.getElementById('searchInput');
    const performSearch = debounce((e) => {
      const keyword = e.target.value.toLowerCase().trim();
      const cards = document.querySelectorAll('.formula-card');
      let visibleCount = 0;
      
      cards.forEach(card => {
        const tags = card.dataset.tags.toLowerCase();
        const content = card.textContent.toLowerCase();
        
        if (tags.includes(keyword) || content.includes(keyword) || keyword === '') {
          card.style.display = 'block';
          visibleCount++;
        } else {
          card.style.display = 'none';
        }
      });
      
      // æ˜¾ç¤ºæœç´¢ç»“æœæç¤º
      const grid = document.getElementById('formulaGrid');
      let notice = document.getElementById('searchNotice');
      if (visibleCount === 0) {
        if (!notice) {
          notice = document.createElement('div');
          notice.id = 'searchNotice';
          notice.className = 'col-span-full text-center py-12 text-gray-500';
          grid.appendChild(notice);
        }
        notice.innerHTML = `
          <i class="fas fa-search-minus text-4xl mb-4 block text-gray-300"></i>
          <p>æœªæ‰¾åˆ°åŒ…å« "<strong>${keyword}</strong>" çš„å…¬å¼</p>
          <p class="text-sm">å»ºè®®å°è¯•ï¼šå¯¼æ•°ã€ç§¯åˆ†ã€æ³°å‹’ã€ä¸‰è§’å‡½æ•°ç­‰å…³é”®è¯</p>
        `;
      } else if (notice) {
        notice.remove();
      }
    }, 300); // 300ms é˜²æŠ–å»¶è¿Ÿ

    searchInput.addEventListener('input', performSearch);

    // å¤åˆ¶å…¬å¼åŠŸèƒ½ - ä¿®å¤ï¼šæ·»åŠ è§†è§‰åé¦ˆå’Œé™çº§å¤„ç†
    async function copyFormula(button, formulaName) {
      const card = button.closest('.formula-card');
      const formulas = Array.from(card.querySelectorAll('p')).map(p => p.textContent).join('\n');
      
      // ç¦ç”¨æŒ‰é’®å¹¶æ˜¾ç¤ºåŠ è½½çŠ¶æ€
      button.disabled = true;
      button.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> å¤åˆ¶ä¸­...';
      
      try {
        if (navigator.clipboard) {
          await navigator.clipboard.writeText(formulas);
          // æˆåŠŸåé¦ˆ
          button.className = button.className.replace('bg-blue-600', 'bg-green-600');
          button.innerHTML = '<i class="fas fa-check mr-2"></i> å·²å¤åˆ¶ï¼';
        } else {
          // é™çº§æ–¹æ¡ˆï¼šä¸æ”¯æŒ clipboard API
          const textarea = document.createElement('textarea');
          textarea.value = formulas;
          document.body.appendChild(textarea);
          textarea.select();
          document.execCommand('copy');
          document.body.removeChild(textarea);
          button.innerHTML = '<i class="fas fa-check mr-2"></i> å·²å¤åˆ¶ï¼ˆé™çº§æ¨¡å¼ï¼‰';
        }
      } catch (err) {
        // é”™è¯¯å¤„ç†
        button.className = button.className.replace('bg-blue-600', 'bg-red-600');
        button.innerHTML = '<i class="fas fa-exclamation-triangle mr-2"></i> å¤åˆ¶å¤±è´¥';
        console.error('å¤åˆ¶å¤±è´¥:', err);
      }
      
      // 3ç§’åæ¢å¤åŸçŠ¶
      setTimeout(() => {
        button.disabled = false;
        button.className = button.className
          .replace('bg-green-600', 'bg-blue-600')
          .replace('bg-red-600', 'bg-blue-600');
        button.innerHTML = '<i class="fas fa-copy mr-2"></i> å¤åˆ¶ LaTeX';
      }, 3000);
    }

    // é¡µé¢åŠ è½½å®Œæˆ
    document.addEventListener('DOMContentLoaded', () => {
      console.log('ğŸ“š å…¬å¼æ‰‹å†ŒåŠ è½½å®Œæˆ');
    });
  </script>

</body>
</html>
